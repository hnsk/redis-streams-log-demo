"use strict";(globalThis["webpackChunklog_demo_quasar"]=globalThis["webpackChunklog_demo_quasar"]||[]).push([[246],{5246:(e,o,l)=>{l.r(o),l.d(o,{default:()=>T});var n=l(3673);function a(e,o,l,a,t,i){const s=(0,n.up)("GeneratorConfig");return(0,n.wg)(),(0,n.j4)(s)}var t=l(2323),i=l(8880);const s=(0,n._)("div",{class:"text-h6"},"Current generator configuration",-1),u={class:"q-ma-sm"},d={class:"row"};function r(e,o,l,a,r,g){const c=(0,n.up)("q-card-section"),m=(0,n.up)("q-separator"),p=(0,n.up)("q-input"),f=(0,n.up)("q-btn"),C=(0,n.up)("q-card-actions"),w=(0,n.up)("q-card"),_=(0,n.up)("q-dialog"),h=(0,n.up)("q-chip"),k=(0,n.up)("q-checkbox"),W=(0,n.up)("q-item"),y=(0,n.up)("q-list"),v=(0,n.Q2)("close-popup");return(0,n.wg)(),(0,n.iD)("div",null,[(0,n.Wm)(_,{modelValue:a.editConfig,"onUpdate:modelValue":o[1]||(o[1]=e=>a.editConfig=e)},{default:(0,n.w5)((()=>[(0,n.Wm)(w,null,{default:(0,n.w5)((()=>[(0,n.Wm)(c,null,{default:(0,n.w5)((()=>[s])),_:1}),(0,n.Wm)(m),(0,n.Wm)(c,null,{default:(0,n.w5)((()=>[(0,n._)("div",null,[(0,n.Wm)(p,{modelValue:a.configText,"onUpdate:modelValue":o[0]||(o[0]=e=>a.configText=e),filled:"",type:"textarea",rows:"50",style:{width:"500px"},color:"grey-4"},null,8,["modelValue"])])])),_:1}),(0,n.Wm)(m),(0,n.Wm)(C,{align:"right"},{default:(0,n.w5)((()=>[(0,n.wy)((0,n.Wm)(f,{flat:"",label:"Close",color:"primary"},null,512),[[v]]),(0,n.wy)((0,n.Wm)(f,{flat:"",label:"Save",color:"primary",onClick:a.textConfigToConfig},null,8,["onClick"]),[[v]])])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,n._)("div",u,[(0,n.Wm)(f,{onClick:a.getCurrentConfig,label:"Reload config"},null,8,["onClick"]),(0,n.Wm)(f,{onClick:a.logCurrentConfig,label:"Log config"},null,8,["onClick"]),(0,n.Wm)(f,{onClick:a.saveCurrentConfig,label:"Save config"},null,8,["onClick"]),(0,n.Wm)(f,{onClick:o[2]||(o[2]=e=>a.editConfig=!0),label:"Edit config"}),(0,n.Wm)(f,{onClick:a.addHost,label:"Add host"},null,8,["onClick"])]),(0,n.Wm)(m),(0,n.Wm)(y,null,{default:(0,n.w5)((()=>[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(a.generator_config,((e,o)=>((0,n.wg)(),(0,n.j4)(W,{style:{"border-style":"solid none none none"},key:o},{default:(0,n.w5)((()=>[(0,n.Wm)(f,{round:"",dense:"",flat:"",size:"30px",icon:"delete",color:"primary",onClick:e=>a.generator_config.splice(o,1)},null,8,["onClick"]),(0,n.Wm)(p,{label:"Description",modelValue:a.generator_config[o].name,"onUpdate:modelValue":e=>a.generator_config[o].name=e,dense:"",style:{width:"150px"}},null,8,["modelValue","onUpdate:modelValue"]),(0,n.Wm)(y,null,{default:(0,n.w5)((()=>[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(Object.keys(e.options),(e=>((0,n.wg)(),(0,n.j4)(W,{key:e},{default:(0,n.w5)((()=>[(0,n._)("div",d,[(0,n._)("div",null,[(0,n.Wm)(h,{square:"",size:"md",style:{width:"100px"}},{default:(0,n.w5)((()=>[(0,n.Uk)((0,t.zw)(e),1)])),_:2},1024)]),(0,n._)("div",null,["boolean"==typeof a.generator_config[o].options[e]?((0,n.wg)(),(0,n.j4)(k,{key:0,modelValue:a.generator_config[o].options[e],"onUpdate:modelValue":l=>a.generator_config[o].options[e]=l,class:"q-ml-md"},null,8,["modelValue","onUpdate:modelValue"])):((0,n.wg)(),(0,n.j4)(p,{key:1,modelValue:a.generator_config[o].options[e],"onUpdate:modelValue":l=>a.generator_config[o].options[e]=l,label:e,dense:"",class:"q-ml-md",style:{width:"300px"}},null,8,["modelValue","onUpdate:modelValue","label"]))])])])),_:2},1024)))),128)),(0,n.Wm)(W,null,{default:(0,n.w5)((()=>[(0,n.Wm)(h,{square:"",size:"md",bold:"",style:{width:"100px"}},{default:(0,n.w5)((()=>[(0,n.Uk)("messages")])),_:1}),(0,n.Wm)(y,null,{default:(0,n.w5)((()=>[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(e.messages,((e,l)=>((0,n.wg)(),(0,n.j4)(W,{key:l},{default:(0,n.w5)((()=>[(0,n.Wm)(p,{modelValue:a.generator_config[o].messages[l],"onUpdate:modelValue":e=>a.generator_config[o].messages[l]=e,dense:"",onKeyup:(0,i.D2)((e=>a.changeMessage(o,l)),["enter"]),style:{width:"300px"}},null,8,["modelValue","onUpdate:modelValue","onKeyup"]),(0,n.Wm)(f,{round:"",dense:"",flat:"",icon:"delete",color:"primary",onClick:e=>a.deleteMessage(o,l)},null,8,["onClick"])])),_:2},1024)))),128)),(0,n.Wm)(W,null,{default:(0,n.w5)((()=>[(0,n.Wm)(f,{label:"Add new message",onClick:e=>a.addMessage(o,"New message")},null,8,["onClick"])])),_:2},1024)])),_:2},1024)])),_:2},1024)])),_:2},1024)])),_:2},1024)))),128))])),_:1})])}var g=l(1959),c=l(5474);const m={setup(){let e=(0,g.iH)([]),o=(0,g.iH)(!1),l=(0,g.iH)("");const a={name:"New",options:{hostname:"newserver-RANDINT.example.com",enabled:!1,amount:100},messages:["Example message."]};function t(){console.log(e.value)}function i(){e.value=JSON.parse(l.value),m()}function s(){console.log(a),c.api.post("api/generator/host/add",a).then(p)}function u(e,o){c.api.post("api/generator/message/add",{hostidx:e,message:o}).then(p())}function d(e,o){c.api.post("api/generator/message/delete",{hostidx:e,msgidx:o}).then(p())}function r(o,l){const n=e.value[o].messages[l];c.api.post("api/generator/message/modify",{hostidx:o,msgidx:l,message:n}).then(p())}function m(){c.api.post("api/generator/config/update",{config:e.value}).then(p)}function p(){c.api.get("api/generator/config").then((o=>{e.value=o.data.config.hosts,l.value=JSON.stringify(e.value,null,2)}))}return(0,n.bv)((()=>{p()})),{generator_config:e,getCurrentConfig:p,logCurrentConfig:t,saveCurrentConfig:m,editConfig:o,configText:l,textConfigToConfig:i,addHost:s,addMessage:u,deleteMessage:d,changeMessage:r}}};var p=l(4260),f=l(5926),C=l(151),w=l(5589),_=l(5869),h=l(4842),k=l(9367),W=l(8240),y=l(7011),v=l(3414),b=l(7030),x=l(5735),V=l(677),q=l(7518),Z=l.n(q);const Q=(0,p.Z)(m,[["render",r]]),U=Q;Z()(m,"components",{QDialog:f.Z,QCard:C.Z,QCardSection:w.Z,QSeparator:_.Z,QInput:h.Z,QCardActions:k.Z,QBtn:W.Z,QList:y.Z,QItem:v.Z,QChip:b.Z,QCheckbox:x.Z}),Z()(m,"directives",{ClosePopup:V.Z});const D={components:{GeneratorConfig:U},setup(){return{GeneratorConfig:U}}},H=(0,p.Z)(D,[["render",a]]),T=H}}]);