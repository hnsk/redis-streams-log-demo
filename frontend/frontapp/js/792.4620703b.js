"use strict";(globalThis["webpackChunklog_demo_quasar"]=globalThis["webpackChunklog_demo_quasar"]||[]).push([[792],{2792:(e,t,i)=>{i.r(t),i.d(t,{default:()=>f});var r=i(3673);function a(e,t,i,a,o,s){const n=(0,r.up)("LogTimeSeries");return(0,r.wg)(),(0,r.j4)(n)}const o={class:"row"};function s(e,t,i,a,s,n){const l=(0,r.up)("apexchart");return(0,r.wg)(),(0,r.iD)("div",o,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(Object.keys(a.logLevels),(e=>((0,r.wg)(),(0,r.iD)("div",{key:e},[(0,r.Wm)(l,{class:"q-ma-md",ref_for:!0,ref:t=>{t&&(a.chartRefs[e]=t)},width:"600px",height:"300px",options:a.getChartOptions(e),series:a.series},null,8,["options","series"])])))),128))])}var n=i(1959),l=i(5474),g=i(2156);const u={setup(){let e=(0,n.iH)([]),t=(0,n.iH)({});const i={debug:"blue-2",info:"info",warning:"warning",error:"red-6",critical:"red-10"},a={xaxis:{type:"datetime"},fill:{type:"gradient"},chart:{type:"area",toolbar:{show:!1},animations:{enabled:!1,easing:"linear"},zoom:{enabled:!1}},stroke:{curve:"smooth",width:1},markers:{size:0},dataLabels:{enabled:!1}};function o(e){let t={...a};return t.chart.group="logcharts",t.chart.id=e,t.colors=[g.ZP.getPaletteColor(i[e])],t.title={text:e,align:"center",margin:10,style:{fontSize:"14px",fontWeight:"bold",fontFamily:void 0,color:"#263238"}},t}function s(){const e=new Date;l.api.post("api/timeseries/mrange",{bucket_size_msec:1e3,from_time:e.getTime()-6e4,to_time:e.getTime(),aggregation_type:"count",filters:["type=logs"]}).then((i=>{for(let r of i.data)t.value[r.name].updateOptions({xaxis:{min:e.getTime()-6e4,max:e.getTime()}}),t.value[r.name].updateSeries([r])}))}let u=(0,n.iH)(null);return(0,r.bv)((()=>{u.value=setInterval(s,1e3)})),(0,r.Jd)((()=>{clearInterval(u.value)})),{series:e,getChartOptions:o,logLevels:i,chartRefs:t,updateTimeseries:s}}};var c=i(4260);const m=(0,c.Z)(u,[["render",s]]),p=m,d={components:{LogTimeSeries:p},setup(){return{LogTimeSeries:p}}},h=(0,c.Z)(d,[["render",a]]),f=h}}]);